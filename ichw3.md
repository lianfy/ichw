# 高速缓冲存储器

1. 结构：主要由三大部分组成

   Cache存储体:存放由内存调入的指令与数据块。

   地址转换部件:建立目录表以实现内存地址到缓存地址的转换。

   替换部件:在缓存已满时按一定策略进行数据块替换，并修改地址转换部件。

2. 工作原理：

   Cache存储体分为高速存储器和联想存储器。

   内存的地址划分为行号、列号和组内地址三个字段。

   高速存储器也划分为行和列的存储单元组，两者列数和组的大小相同，但高速储存器的行数少得多

   联想存储器用于地址联想，有着与高速存储器相同行数和列数的存储单元

   当CPU存取内存时，首先自动对存取地址的字段进行译码，并将联想存储器该列的行号与Memory的行号字段比较；若有相同，则该内存单元已在高速存储器中，称为命中，就将Memory的地址映射为高速存储器的地址并执行存取操作；若都不相同，则该单元不在高速存储器中，称为脱靶，将执行存取内存操作并自动将该单元所在的内存单元组调入高速存储器相同列中空着的存储单元组中，并把该组在内存中的行号记录在联想存储器中。

   当出现脱靶而高速存储器对应列中没有空的位置时，便将该列中某组移出以存放新的组，这称为替换。

   多级Cache:

   只有当Cache中没有CPU所需数据时，CPU才访问内存

   假设CPU有2级Cache，命中率均为80%

   那么有80%的数据可以从L1Cache中读取到，有16%的数据可以从L2Cache中读取到

   这样只有占总数4%的数据需要从内存中读取

   还可以进一步设计三级缓存和四级缓存以提高命中率
